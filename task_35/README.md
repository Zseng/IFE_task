# 任务三十五

## 任务描述
* 命令输入框由input变为textarea，可以允许输入多条指令，每一行一条
* textarea左侧有一列可以显示当前行数的列（代码行数列），列数保持和textarea中一致
* 当textarea发生上下滚动时，代码行数列同步滚动
* 能够判断指令是否合法，不合法的指令给出提示
* 点击执行时，依次逐条执行所有命令
* 对于GO，TRA以及MOV指令增加可以移动格子数量的参数，例如
* GO 3：向当前方向前进三格
* TRA TOP 2：向屏幕上方平移两格
* MOV RIG 4：方向转向屏幕右侧，向屏幕的右侧移动四格
 
## 实现
* 指令的处理做得怎么好，代码有些冗余，不易读
* 在用正则循环遍历匹配指令时，由于用了g属性，造成偶数项会匹配不到，后来知道用一个正则表达式字面量匹配多个字符串会造成共享同一个regexcp实例，g属性由于是匹配所有字符，其中有个属性是.lastIndex会影响下一次匹配，造成匹配失败。后来去掉g属性后解决问题。
* 依次执行储存多指令用了递归加timeout，性能不行，暂时没想到其它方法，随后再改进

